
<ion-header>

  <ion-navbar color="primary">
    <ion-title> الرسائل</ion-title>
  </ion-navbar>

</ion-header>



<ion-content  *ngIf="isOnline == true">
  <p text-center *ngIf="showLoader" class="small">
    <hsa-loader></hsa-loader>
  </p>
  <ion-refresher margin-top (ionRefresh)="refreshData($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="اسحب لتحديث المحتوى" refreshingSpinner="circles"
                           refreshingText="جلب المحتوى"></ion-refresher-content>
  </ion-refresher>

    <p class="err-small" text-center *ngIf="netErr">
      <br>
      التطبيق يتطلب اتصال بالانترنت
    </p>
    <p class="err-small" text-center *ngIf="noData">
      <br>
      لا يوجد رسائل حتى الان
    </p>
  <ion-list>
<!--
    <ion-item *ngIf="let message of AllMessages" (click)="openMessage('MessagePage', message.url)">
      <ion-avatar item-left>
        <img *ngIf = "message.avatar;else altImages" [src]="message.avatar" alt="profile image">
        <ng-template #altImages>
          <img *ngIf="message.gender == 'female'" src="assets/img/female-alt.png" >
          <img *ngIf="message.gender == 'male'" src="assets/img/male-alt.png" >
        </ng-template>
      </ion-avatar>
      <div class="message-sender">

        <h4>{{message.name}}</h4>

        <div class="message-et">
          <ion-icon name="timer-outline"></ion-icon>
          منذ
          <span>{{message.message_date | date:'longDate'| arabicdate}}</span>
        </div>
      </div>
      <p>{{message.message_body}}</p>
    </ion-item>
-->
    <ion-item (click)="openMessage('MessagePage')">
      <ion-avatar item-left>
<!--
        <img *ngIf = "userImageUrl;else altImages" [src]="userImageUrl" alt="profile image">
        <ng-template #altImages>
          <img *ngIf="userGender == 'female'" src="/assets/img/female-alt.png" >
          <img *ngIf="userGender == 'male'" src="/assets/img/male-alt.png" >
        </ng-template>
        -->
        <!--Alternate image url while the data from serve is ready-->
        <img src="assets/img/male-alt.png"  alt="male">
      </ion-avatar>
      <div class="message-sender">

        <h4>محمد أحمد</h4>

        <div class="message-et">
          <ion-icon name="timer-outline"></ion-icon>
          منذ
          <span>يومان</span>
        </div>
      </div>
      <p>بسم الله الرحمن الرحيم وعليه نتوكل المرجو العلم من الرسالة</p>
    </ion-item>
<ion-item (click)="openMessage('MessagePage')">
  <ion-avatar item-left>
    <img src="assets/img/male-alt.png"  alt="male">
  </ion-avatar>
  <div class="message-sender">

    <h4>محمد أحمد</h4>

    <div class="message-et">
      <ion-icon name="timer-outline"></ion-icon>
      منذ
      <span>يومان</span>
    </div>
  </div>
  <p>بسم الله الرحمن الرحيم وعليه نتوكل المرجو العلم من الرسالة</p>
</ion-item>

<ion-item (click)="openMessage('MessagePage')">
  <ion-avatar item-left>
    <img src="assets/img/male-alt.png"  alt="male">
  </ion-avatar>
  <div class="message-sender">

    <h4>محمد أحمد</h4>

    <div class="message-et">
      <ion-icon name="timer-outline"></ion-icon>
      منذ
      <span>يومان</span>
    </div>
  </div>
  <p>بسم الله الرحمن الرحيم وعليه نتوكل المرجو العلم من الرسالة</p>
</ion-item>

<ion-item (click)="openMessage('sender Mohamed Ahmed ')">
  <ion-avatar item-left>
    <img src="assets/img/male-alt.png"  alt="male">
  </ion-avatar>
  <div class="message-sender">

    <h4>محمد أحمد</h4>

    <div class="message-et">
      <ion-icon name="timer-outline"></ion-icon>
      منذ
      <span>يومان</span>
    </div>
  </div>
  <p>بسم الله الرحمن الرحيم وعليه نتوكل المرجو العلم من الرسالة</p>

</ion-item>

<ion-item (click)="openMessage('message hi to all')">
  <ion-avatar item-left>
    <img src="assets/img/male-alt.png"  alt="male">
  </ion-avatar>
  <div class="message-sender">

    <h4>محمد أحمد</h4>

    <div class="message-et">
      <ion-icon name="timer-outline"></ion-icon>
      منذ
      <span>يومان</span>
    </div>
  </div>
  <p>بسم الله الرحمن الرحيم وعليه نتوكل المرجو العلم من الرسالة</p>
</ion-item>
  </ion-list>

  <ion-infinite-scroll *ngIf="moreData" (ionInfinite)="getMoreData($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="جلب مزيد من المحتوى...">
      >
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>


