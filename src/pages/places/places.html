<ion-header>

  <ion-navbar color="primary">
    <!-- ahmed ouda edit -->
    <ion-title *ngIf="!showSearchBar">الاماكن</ion-title>


    <!-- ahmed ouda end edit -->
  </ion-navbar>
  <ion-toolbar color="bgColor">
    <ion-searchbar #searchbar (ionInput)="filterItems($event, this.places)" placeholder="ابحث عن .." (ionCancel)="onCancel($event)">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-refresher (ionRefresh)="refreshPlaces($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="اسحب لتحديث المحتوى" refreshingSpinner="circles" refreshingText="جلب المحتوى"></ion-refresher-content>
  </ion-refresher>
  
  <ion-list *ngIf="places.length > 0">
    <ion-item *ngIf="parent>0 " no-padding>
      <div (click)="navigateTo(type,parent)" (tab)="navigateTo(type,parent)">
        <p>الكل </p>
      </div>
    </ion-item>
    <ion-item *ngFor="let place of places" no-padding>
      <div *ngIf="place.sub >'0'" (click)="navigateToPlacesPage('placesPage',type,place.id)" (tab)="navigateToPlacesPage('placesPage',type,place.id)">
        <p>{{place.name}} </p>
      </div>
      <div *ngIf="place.sub =='0'" (click)="navigateTo(type,place.id)" (tab)="navigateTo(type,place.id)">
        <p>{{place.name}} </p>
      </div>
    </ion-item>

  </ion-list>

  <p *ngIf="noPlaces && !errorAccessDB" text-center class="small">
    <br>
    <ion-icon name="warning-outline" color="primaryDark"></ion-icon>
    <br> لا يوجد أماكن متوفرة لهذا لأختيار حتى الان
    <ion-icon name="mark"></ion-icon>
  </p>

  <p text-center *ngIf="noFilter">
    لا يوجد اماكن تطابق هذا البحث
  </p>

  <p *ngIf="errorAccessDB" text-center wordcolor="blue" class="small">
    <br>
    <ion-icon name="ios-wifi"></ion-icon>
    <br> التطبيق يتطلب اتصال بالانترنت
  </p>

  <!--<p *ngIf="isOffline" text-center wordcolor="blue">
        <br>
        <ion-icon name="warning-outline" ></ion-icon>
        <br>
       التطبيق يتطلب اتصال بالانترنت
     </p>-->

  <p text-center *ngIf="showLoader">
    <hsa-loader></hsa-loader>
  </p>



  <!--  <ion-infinite-scroll *ngIf="moreData" (ionInfinite)="fetchMoreData($event)">
           <ion-infinite-scroll-content
             loadingSpinner="bubbles"
             loadingText="جلب مزيد من المحتوى...">
           ></ion-infinite-scroll-content>
     </ion-infinite-scroll> -->
</ion-content>