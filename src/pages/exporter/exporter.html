
<ion-header>

  <ion-navbar color="primary">
    <ion-title>صفحة الموردين</ion-title>
  </ion-navbar>

</ion-header>


<ion-content >


  <button type="button" id="modal-button"
          color="light"
          (click)="openFilterModal()">

    <div class="btn-icon">
      <ion-icon item-right id="search-icon" name="funnel-outline"></ion-icon>
    </div>

    <div id="search-result">
      <div *ngIf="dataFromModal; else initFiilter" class="found-data">
        <span *ngFor="let searched of dataFromModal"> {{searched}}</span>
      </div>
    </div>

    <ng-template #initFiilter>
      <div class="no-data">
        <span color="primary">المدينة</span>
        <ion-icon name="arrow-back"></ion-icon>
      </div>
    </ng-template>

  </button>
  <!-- List of the neerer exporters -->

  <ion-content>

  

  <ion-refresher (ionRefresh)="refreshExporter($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="اسحب لتحديث المحتوى" refreshingSpinner="circles" refreshingText="جلب المحتوى">
      
    </ion-refresher-content>
  </ion-refresher>

  <p text-center *ngIf="showLoader == true">
    <hsa-loader></hsa-loader>
  </p>


  <ion-list padding no-lines>
    <ion-item 
     *ngFor="let exporter of allExporters"
     (click)="navigateToPage('VprofilePage', exporter.id)"
      no-padding margin-bottom="4px" text-start>
      <div class="item-avatar" item-left>
        <img src="assets/img/store_col.png" alt="">
      </div>
      <h2>

        {{exporter.name}}
        <!-- <ion-icon name="pin"></ion-icon> -->
      </h2>
      <div class="exporter-info">
        <p><span class="kilos">{{twoDigitsFloats(exporter.distance)}}</span> ك.م</p>
        <!--
        <p><span class="stars">5</span> نجوم</p>
        -->
      </div>
    </ion-item>
    
  </ion-list>

  <p class="small" text-center *ngIf="!moreData">
    لا يوجد محتوى آخر
  </p>

  
  <ion-infinite-scroll *ngIf="moreData" (ionInfinite)="fetchMoreData($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="جلب مزيد من المحتوى...">
      ></ion-infinite-scroll-content>
  </ion-infinite-scroll>
  </ion-content>
</ion-content>
