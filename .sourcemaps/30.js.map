{"version":3,"sources":["../../src/pages/messages/message/message.module.ts","../../src/pages/messages/message/message.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { MessagePage } from './message';\r\n@NgModule({\r\n  declarations: [\r\n    MessagePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(MessagePage),\r\n  ],\r\n  exports: [\r\n    MessagePage\r\n  ]\r\n})\r\nexport class MessagePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages/message/message.module.ts","import { Component, ElementRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\r\nimport { MessagesProvider } from \"../../../providers/messagesprovider\";\r\nimport { IlocalUser } from \"../../../app/service/interfaces\";\r\n\r\n/**\r\n * Generated class for the MessagePage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-message',\r\n  templateUrl: 'message.html',\r\n})\r\nexport class MessagePage {\r\n  message    : any;\r\n  reciever   : string;\r\n  localUser  : IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  reciever_id: number;\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public eleRef: ElementRef,\r\n    public toastCtrl: ToastController,\r\n    public messagesProvider: MessagesProvider) {\r\n    this.message = this.navParams.get('messageData');\r\n    this.reciever = this.navParams.get('reciever');\r\n    this.reciever_id = this.navParams.get('reciever_id');\r\n\r\n    console.log('receiver',this.reciever, 'receiver id',this.reciever_id);\r\n}\r\n\r\n  ionViewDidLoad() {\r\n    if (!this.localUser) {\r\n      this.localUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n    }\r\n    console.log('ionViewDidLoad MessagePage');\r\n  }\r\n\r\n\r\n  sendMessage(title, message) {\r\n    console.log(this.reciever, this.reciever_id);\r\n    if (title && title.trim() != '') {\r\n      if (message && message.trim() != '') {\r\n        let messageData = {\r\n          user_id: this.localUser.id,\r\n          mail_body: message,\r\n          mail_title: title,\r\n          receive_user_id: this.reciever_id,\r\n          parent_id: 0\r\n        };\r\n        this.messagesProvider.sendMessage(messageData)\r\n          .subscribe(\r\n          ({ status, data }) => {\r\n            console.log(status, data);\r\n            if (status === 'success') {\r\n              this.showToast('تم ارسال رسالتك بنجاح');\r\n              setTimeout(() => {\r\n                this.navCtrl.pop();\r\n              }, 3000);\r\n            } else {\r\n              this.showToast('يرجى المحاولة فى وقت لاحق')\r\n            }\r\n\r\n          },\r\n          err => {\r\n            console.warn(err);\r\n            this.showToast('التطبيق يتطلب اتصال بالانترنت')\r\n          }\r\n          )\r\n      } else {\r\n        this.showToast('يرجى ادخال نص الرسالة')\r\n      }\r\n    } else {\r\n      this.showToast('يرجى ادخال عنوان الرسالة')\r\n    }\r\n\r\n\r\n  }\r\n  watchHeight(event) {\r\n\r\n    const textArea = this.eleRef.nativeElement.getElementsByTagName('textarea')[0];\r\n\r\n    // testing >> console.log(textArea.scrollHeight, textArea.scrollHeight);\r\n\r\n    textArea.style.height = 'auto';\r\n\r\n    textArea.style.height = textArea.scrollHeight + 'px';\r\n\r\n  }\r\n\r\n  showToast(msg: string): void {\r\n    let toast = this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 3000\r\n    });\r\n\r\n    toast.present()\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages/message/message.ts"],"sourceRoot":""}