{"version":3,"sources":["../../src/pages/oneitem/product/product.module.ts","../../src/pages/oneitem/product/product.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { HsaloaderComponentModule } from './../../../components/hsa-loader/hsa-loader.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ProductPage } from './product';\r\nimport {SinceDatePipeModule} from \"../../../app/service/since-date/since-date.module\";\r\nimport {ArabicDatePipeModule} from \"../../../app/service/arabic-date/arabic-date.module\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ProductPage),\r\n    HsaloaderComponentModule,\r\n    SinceDatePipeModule,\r\n    ArabicDatePipeModule\r\n  ],\r\n  exports: [\r\n    ProductPage\r\n  ]\r\n})\r\nexport class ProductPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/oneitem/product/product.module.ts","import { IlocalUser } from './../../../app/service/interfaces';\r\nimport { CommentProvider } from './../../../providers/comments';\r\nimport { ItemProvider } from './../../../providers/item';\r\nimport {Component, ViewChild} from '@angular/core';\r\nimport {AlertController, AlertOptions, IonicPage, NavController, NavParams, ToastController} from 'ionic-angular';\r\n\r\nimport {IProductData, IproductComment} from '../../../app/service/interfaces';\r\n//import {Observable} from \"rxjs/Observable\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-product',\r\n  templateUrl: 'product.html',\r\n})\r\nexport class ProductPage {\r\n  @ViewChild('commentInput') commentInput: any;\r\n  showAddComment:boolean = false;\r\n  NoComments:boolean = false;\r\n  userLocal: IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  productData: IProductData;\r\n  initId: number;\r\n  showLoader: boolean = true;\r\n  initLimit:number = 5;\r\n  initStart: number = 0;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public itemProvider: ItemProvider,\r\n    public commentProvider: CommentProvider,\r\n    public toastCtrl: ToastController,\r\n    public alertCtrl: AlertController\r\n\r\n  ) {\r\n\r\n    console.log(this.navParams.data);\r\n\r\n    this.initId = this.navParams.get('pageData');\r\n\r\n\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.userLocal = JSON.parse(localStorage.getItem('userLocalData'));\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    if (!this.userLocal) {\r\n      this.userLocal= JSON.parse(localStorage.getItem('userLocalData'));\r\n    }\r\n    console.log('ionViewDidLoad ProductPage');\r\n    this.getProductById(this.initId);\r\n\r\n    //this.getComments();\r\n    /*let commentDate = {\r\n      user_id: this.userLocal.id,\r\n      item_id: this.initId\r\n    };\r\n    let productId = this.itemProvider.getProductById(this.initId);\r\n    let getComment =this.commentProvider.getComments(commentDate, this.initLimit)\r\n\r\n    Observable.merge(getComment, productId)\r\n      .subscribe(res=>{\r\n        console.log('%c%s', 'font-size: 30px; color: #555','merged response');\r\n        console.log(res.data);\r\n\r\n      })*/\r\n\r\n  }\r\n\r\n  getProductById(id) {\r\n    let user_id = (this.userLocal)?this.userLocal.id:0;\r\n    this.itemProvider.getProductById(id, user_id)\r\n      .subscribe(\r\n      ({ status, data}) => {\r\n        if (status === 'success') {\r\n          this.productData = data;\r\n\r\n        } else {\r\n          console.warn('no data');\r\n        }\r\n      },\r\n      err => {\r\n        console.warn(err);\r\n      },\r\n      () => {\r\n        this.showLoader = false;\r\n      }\r\n      )\r\n\r\n  }\r\n\r\n  showLoginAction() {\r\n    let alertOptions: AlertOptions = {\r\n      title: 'تسجيل',\r\n      message: 'يرجى تسجيل الدخول بحسابك لكى يتم تنفيذ طلبك',\r\n      buttons:[\r\n        {\r\n          text: 'تسجيل الدخول',\r\n          handler: ()=>{\r\n            this.navigateToPage('Login', null);\r\n          }\r\n        },\r\n        {\r\n          text: 'تسجيل حساب جديد',\r\n          handler: ()=>{\r\n            this.navigateToPage('Signup', null);\r\n          }\r\n        }\r\n      ],\r\n      enableBackdropDismiss: true\r\n    };\r\n    let alert = this.alertCtrl.create(alertOptions);\r\n\r\n    alert.present();\r\n  }\r\n\r\n  watchHeight(event) {\r\n\r\n    const textArea = this.commentInput.nativeElement;\r\n\r\n    // testing >> console.log(textArea.scrollHeight, textArea.scrollHeight);\r\n\r\n    textArea.style.height = 'auto';\r\n\r\n    textArea.style.height  = textArea.scrollHeight + 'px';\r\n\r\n  }\r\n\r\n  addComment(comment_text) {\r\n\r\n    //console.log(this.commentInput, this.eleRef.nativeElement(this.commentInput));\r\n    console.log(comment_text);\r\n\r\n    console.log(this.initId, this.productData, this.userLocal);\r\n\r\n    if (comment_text && comment_text.trim() != '') {\r\n      let commentInfo = {\r\n        user_id: this.userLocal.id,\r\n        item_id: this.initId,\r\n        comment_text,\r\n        item_name: this.productData.item_name,\r\n        matger_id: this.productData.user_id\r\n      };\r\n\r\n      this.commentProvider.addComment(commentInfo)\r\n        .subscribe(({ status, errors }) => {\r\n          console.log(status);\r\n          if( status == 'success') {\r\n            let lastComment = {name: this.userLocal.name,avatar: this.userLocal.avatar,comment_text: commentInfo.comment_text, gender: this.userLocal.gender, date_added: new Date(Date.now())};\r\n            this.commentInput.nativeElement.value = '';\r\n            this.NoComments = false;\r\n            console.log(this.commentInput.nativeElement, lastComment);\r\n            console.log('user lat comment', );\r\n            this.productData.comments.push(lastComment);\r\n            this.productData.commentsCount = parseInt(this.productData.commentsCount) + 1;\r\n            this.showToast('تم اضافة تعليقك بنجاح');\r\n            // TODO: reset the input button value\r\n          } else {\r\n            console.log(errors);\r\n            this.showToast('يرجى المحاولة مجددا')\r\n          }\r\n        },\r\n        err => {\r\n          console.log( err);\r\n          this.showToast('التطبيق يتطلب اتصال بالانترنت')\r\n        }\r\n        )\r\n    } else {\r\n      this.showToast('يرجى ادخال تعليق  على المنتج')\r\n    }\r\n\r\n\r\n\r\n  }\r\n/*\r\n  getComments() {\r\n    let commentDate = {\r\n      user_id: this.userLocal.id,\r\n      item_id: this.initId\r\n    };\r\n\r\n    this.commentProvider.getComments(commentDate, this.initLimit)\r\n      .subscribe(\r\n        (({status, data})=>{\r\n          console.log(status, data);\r\n          if(status == 'success') {\r\n\r\n            this.AllComments = data;\r\n\r\n            if (data.length <= 0) {\r\n              this.NoComments = true;\r\n            }\r\n          } else {\r\n            this.NoComments = true;\r\n            console.log(data);\r\n          }\r\n        }\r\n        )\r\n      )\r\n  }\r\n*/\r\n  showToast(msg): void {\r\n    let toast = this.toastCtrl.create(\r\n      {\r\n        message: msg,\r\n        duration:2000\r\n      }\r\n    );\r\n\r\n    toast.present();\r\n  }\r\n\r\n\r\n  likeProduct() {\r\n    //\"user_id\":\"39\",\"item_id\":\"7\",\"item_name\":\"كرسي مكتب \",\"matger_id\":\"4\"\r\n\r\n    if (this.userLocal) {\r\n      if (!this.productData.like) {\r\n        let likeData = {\r\n          user_id: this.userLocal.id,\r\n          item_id: this.initId,\r\n          item_name: this.productData.item_name,\r\n          matger_id: this.productData.user_id\r\n        };\r\n\r\n        this.itemProvider.likeItem(likeData)\r\n          .subscribe(\r\n            res=> {\r\n              if (res.status == 'success') {\r\n                this.showToast('لقد قمت بالاعجاب بهذا المنتج');\r\n                this.productData.like = true;\r\n                this.productData.likesCount = parseInt(this.productData.likesCount) + 1;\r\n              } else {\r\n                console.warn(res.errors);\r\n                this.showToast('الرجاء المحاولة فى وقت اخر')\r\n              }\r\n            },\r\n            err=> {\r\n              console.warn(err);\r\n              this.showToast('التطبيق يتطلب اتصال بالانترنت')\r\n            }\r\n          );\r\n\r\n      } else {\r\n        let unlikeData = {\r\n          user_id: this.userLocal.id,\r\n          item_id: this.initId\r\n        };\r\n        this.itemProvider.likeItem(unlikeData, false)\r\n          .subscribe(\r\n            res=> {\r\n              if (res.status == 'success') {\r\n                this.showToast('لقد قمت بحذف اعجابك بهذا المنتج');\r\n\r\n                this.productData.like = false;\r\n                this.productData.likesCount = Math.max(0,parseInt(this.productData.likesCount) - 1);\r\n              } else {\r\n                console.warn(res.errors);\r\n                this.showToast('الرجاء المحاولة فى وقت اخر')\r\n              }\r\n            },\r\n            err=> {\r\n              console.warn(err);\r\n              this.showToast('التطبيق يتطلب اتصال بالانترنت')\r\n            }\r\n          )\r\n\r\n      }\r\n    } else {\r\n      this.showLoginAction()\r\n    }\r\n\r\n\r\n    }\r\n\r\n  navigateToPage(page, pageData) {\r\n    this.navCtrl.push(page, {pageData});\r\n  }\r\n  commentProduct() {\r\n    if (this.userLocal) {\r\n      this.showAddComment = !this.showAddComment;\r\n      setTimeout(()=>{\r\n        console.log(this.commentInput.nativeElement);\r\n        this.commentInput.nativeElement.focus();\r\n\r\n      },0);\r\n    } else {\r\n      this.showLoginAction()\r\n    }\r\n  }\r\n\r\n\r\n  imagePath(img) {\r\n    return 'http://rfapp.net/templates/default/uploads/avatars/'+img\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/oneitem/product/product.ts"],"sourceRoot":""}