{"version":3,"sources":["../../src/pages/add/addproduct/addproduct.module.ts","../../src/pages/add/addproduct/addproduct.ts"],"names":[],"mappings":"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","file":"41.js","sourcesContent":["import { ProgressBarComponentModule } from './../../../components/progress-bar/progress-bar.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddproductPage } from './addproduct';\r\nimport { HsaloaderComponentModule } from '../../../components/hsa-loader/hsa-loader.module';\r\n@NgModule({\r\n  declarations: [\r\n    AddproductPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddproductPage),\r\n    HsaloaderComponentModule,\r\n    ProgressBarComponentModule\r\n  ],\r\n  exports: [\r\n    AddproductPage\r\n  ]\r\n})\r\nexport class AddproductPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add/addproduct/addproduct.module.ts","import { PluginService } from './../../../app/service/plugins.service';\r\n\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { Inject, NgZone } from '@angular/core';\r\nimport { TransferObject, Transfer, FileUploadOptions } from '@ionic-native/transfer';\r\nimport { File } from '@ionic-native/file';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, ToastController, NavParams, ActionSheetController, Platform } from 'ionic-angular';\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { IlocalUser } from '../../../app/service/inewUserData';\r\nimport { IProduct, ArProductForm } from '../../../app/service/interfaces';\r\nimport { ItemProvider } from '../../../providers/item';\r\nimport { ImagePicker, ImagePickerOptions } from \"@ionic-native/image-picker\";\r\nimport { FilePath } from '@ionic-native/file-path';\r\ndeclare let cordova;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addproduct',\r\n  templateUrl: 'addproduct.html',\r\n})\r\nexport class AddproductPage {\r\n  addProductForm: FormGroup;\r\n  userLocal: IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  showLoader: boolean = false;\r\n  InitData: IProduct;\r\n  actionText: string = 'اضافة';\r\n  actionBtnTxt: any = null;\r\n  camerError: boolean = false;\r\n  loadImage: boolean = false;\r\n  lastImage;\r\n\r\n  productItems: Array<{ imgName: string | any, is_uploading: boolean,uploaded: boolean, file: any, base?: any }> = [];\r\n  current: number = -1;\r\n  total: number;\r\n  uploadErr: any = [];\r\n  itemsNames: string[] = [];\r\n  uploaded: boolean = false;\r\n  progress: number = 0;\r\n  fto: TransferObject = this.transfer.create();\r\n  RestData: any;\r\n  proDate:any = new Date(Date.now()).toISOString();\r\n  minDate:any = new Date(Date.now()- 1000*60*60*24*365*10).toISOString();\r\n  maxDate:any = new Date(Date.now()+ 1000*60*60*24*365*10).toISOString();\r\n  expDate:any = new Date(Date.now()).toISOString();\r\n  eminDate:any = new Date(Date.now()).toISOString();\r\n  emaxDate:any = new Date(Date.now()+ 1000*60*60*24*365*10).toISOString();\r\n  \r\n  constructor(\r\n    @Inject('API_URL') private API_URL,\r\n    @Inject('UPLOAD_PATH') private UPLOAD_PATH,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private actionCtrl: ActionSheetController,\r\n    public toastCtrl: ToastController,\r\n    private productProvider: ItemProvider,\r\n    private transfer: Transfer,\r\n    private file: File,\r\n    public camera: Camera,\r\n    public platform: Platform,\r\n    public imagePicker: ImagePicker,\r\n    private ng_zone: NgZone,\r\n    public filePath: FilePath,\r\n    private plugin_service: PluginService\r\n  ) {\r\n\r\n    this.addProductForm = new FormGroup({\r\n      item_name: new FormControl('', [Validators.required, Validators.minLength(4)]),\r\n      item_price: new FormControl('', [Validators.required, Validators.pattern('[1-9]+(\\.[0-9]+)?|[0]+(\\.[0-9]+)+')]),\r\n      item_production_date: new FormControl(''),\r\n      item_expiry_date: new FormControl(''),\r\n      item_desc: new FormControl('')\r\n      \r\n      // item_desc: new FormControl('', [Validators.required, Validators.minLength(20), Validators.maxLength(254)])\r\n    })\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    /* this.proDate = new Date(Date.now()).toISOString();\r\n    this.minDate = new Date(Date.now()- 1000*60*60*24*365*10).toISOString();\r\n    this.maxDate = new Date(Date.now()+ 1000*60*60*24*365*10).toISOString();\r\n    this.eminDate = new Date(Date.now()- 1000*60*60*24*365*10).toISOString();\r\n    this.emaxDate = new Date(Date.now()+ 1000*60*60*24*365*10).toISOString();\r\n    this.expDate = new Date(Date.now()+ 1000*60*60*24*30).toISOString(); */\r\n\r\n    this.InitData = this.navParams.get('pageData');\r\n    console.info('initial data geted when click edit item', this.InitData);\r\n    if (typeof this.InitData == 'object') {\r\n      const formKeys = Object.keys(this.addProductForm.value);\r\n      this.actionText = 'تعديل';\r\n      this.actionBtnTxt = 'تعديل';\r\n\r\n      this.productProvider\r\n        .getItemRestInfo(\r\n          {\r\n            user_id: this.userLocal.id,\r\n            id: this.InitData.id\r\n          }\r\n        )\r\n        .subscribe(({status, data})=>{\r\n          //console.log(status, data);\r\n          if(status === 'success') {\r\n           // console.log('datesssssssssss',data['item_expiry_date']);\r\n            this.eminDate = data['item_production_date'];\r\n            this.addProductForm.get('item_expiry_date').setValue(data['item_expiry_date']);\r\n            this.addProductForm.get('item_production_date').setValue(data['item_production_date']);\r\n            \r\n            let productItems = data.item_images.map(img=>{\r\n              return {\r\n                imgName: img.image,\r\n                is_uploading: false,\r\n                uploaded: false,\r\n                file: ''\r\n              }\r\n            });\r\n            this.productItems = productItems;\r\n            this.RestData = data;\r\n            console.log(' what data ',this.RestData, this.productItems);\r\n            \r\n          }\r\n        })\r\n\r\n\r\n      formKeys.forEach((value) => {\r\n        /* if (typeof value == \"object\") {\r\n            console.log(value);\r\n            //console.log(new Date(this.InitData[value]).toISOString());\r\n            this.addProductForm.get(value).setValue(this.InitData[value])\r\n         }else {*/\r\n        console.log('data in for ', this.InitData[value])\r\n        this.addProductForm.get(value).setValue(this.InitData[value])\r\n      });\r\n    }\r\n\r\n    this.addProductForm.valueChanges // for testing from\r\n      .debounceTime(500)\r\n      .distinctUntilChanged()\r\n      .subscribe(values => {\r\n        //this.eminDate = values.item_production_date;\r\n        //this.expDate = values.item_production_date;\r\n      })\r\n  }\r\n\r\n  changeProdDate(){\r\n    console.log('selected pro date',this.addProductForm.value['item_production_date']);\r\n    console.log('date now',new Date(Date.now()).toISOString());\r\n    \r\n    this.eminDate = this.addProductForm.value['item_production_date'];\r\n    //this.emaxDate = new Date(Date.now()+ 1000*60*60*24*365*10).toISOString();\r\n    this.expDate = this.addProductForm.value['item_production_date'];\r\n  }\r\n  pickImage() {\r\n\r\n    let actionSheetCtrl = this.actionCtrl.create({\r\n      title: 'اختر من',\r\n      buttons: [\r\n        {\r\n          text: 'الكاميرا',\r\n          handler: () => {\r\n            console.log('camera clicked');\r\n            //this.openCamera();\r\n            this.opem_camera();\r\n          }\r\n        },\r\n        {\r\n          text: `البوم الصور`,\r\n          //icon: 'camera',\r\n          handler: () => {\r\n            console.log('Photo Album');\r\n            this.open_albums();\r\n          }\r\n        },\r\n        {\r\n          text: 'الغاء',\r\n          role: 'cancel',\r\n          cssClass: 'dangerColor',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n\r\n    actionSheetCtrl.present();\r\n\r\n    console.log('%c%s', 'font-size:20px;color: #32db64', 'Picking up an image');\r\n\r\n  }\r\n  public progress_event = (progressEvent: ProgressEvent): void => {\r\n    this.ng_zone.run(() => {\r\n      if (progressEvent.lengthComputable) {\r\n\r\n        let progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);\r\n        if (progress > 100) progress = 100;\r\n        if (progress < 0) progress = 0;\r\n        this.progress = progress;\r\n      }\r\n    });\r\n  }\r\n  submitForm() {\r\n    // action: addItem;\r\n    const form = this.addProductForm;\r\n    // YYYY-MMMM-DD HH:mm:ss\r\n\r\n    //console.log('this.addProductForm.value', Object.keys(this.addProductForm.value));\r\n    //console.log(Object.keys(this.addProductForm.value));\r\n\r\n    if (form.valid) {\r\n      this.showLoader = true;\r\n\r\n\r\n      if (this.actionText != 'تعديل') {\r\n\r\n        /********** Add Item to DataBase **************/\r\n\r\n        let images = this.productItems.map(item => item.imgName);\r\n\r\n        console.log('images name that will be uploaded', images);\r\n\r\n        let productForm = Object.assign(this.addProductForm.value, { 'user_id': this.userLocal.id, images });\r\n        console.log('product form ', productForm);\r\n        \r\n        if(productForm.item_expiry_date < productForm.item_production_date){\r\n          this.showToast(`تاريخ انتهاء الصلاحيه يجب ان يكون اكبر من تاريخ الانتاج`);\r\n          this.showLoader = false;\r\n        }else{\r\n          this.productProvider\r\n            .addProduct(productForm)\r\n            .retry(3)\r\n            .debounceTime(2000)\r\n            .subscribe(({ status, errors }) => {\r\n              console.log(status);\r\n              if (status.message == 'success') {\r\n  \r\n                this.addProductForm.reset();\r\n                this.navCtrl.pop();\r\n  \r\n              } else {\r\n                // get the first error from database\r\n                let keys = Object.keys(errors);\r\n                const errMsg: string = errors[keys[0]][0];\r\n                this.showToast(errMsg);\r\n  \r\n              }\r\n  \r\n            },\r\n            (err) => {\r\n              console.warn(err);\r\n              this.showToast('التطبيق يتطلب اتصال بالانترنت')\r\n            }\r\n            )\r\n          }\r\n      }else {\r\n        console.log('this.addProductForm.value', this.addProductForm.value)\r\n        let images = this.productItems.map(item => item.imgName);\r\n\r\n        console.log('images name that will be uploaded', images);\r\n\r\n        let ProductForm = Object.assign({}, {\r\n          'user_id': this.userLocal.id,\r\n          'id': this.InitData.id,\r\n          images\r\n        }, this.addProductForm.value);\r\n        console.log('data to edit', ProductForm)\r\n        if(ProductForm.item_expiry_date < ProductForm.item_production_date){\r\n          this.showToast(`تاريخ انتهاء الصلاحيه يجب ان يكون اكبر من تاريخ الانتاج`);\r\n          this.showLoader = false;\r\n        }else{\r\n          this.productProvider\r\n            .editProduct(ProductForm)\r\n            .retry(3)\r\n            .debounceTime(2000)\r\n            .subscribe(({ status, data, errors }) => {\r\n              console.log(status, data);\r\n              if (status.message == 'success') {\r\n  \r\n                this.addProductForm.reset();\r\n                this.navCtrl.pop();\r\n                this.presentToast('تم التعديل بنجاح')\r\n  \r\n              } else {\r\n                // get the first error from database\r\n                let keys = Object.keys(errors);\r\n                const errMsg: string = errors[keys[0]][0];\r\n                this.showToast(errMsg);\r\n  \r\n              }\r\n  \r\n            }, err => {\r\n              console.warn(err);\r\n              this.showToast('التطبيق يتطلب اتصال بالانترنت')\r\n  \r\n            })\r\n        }\r\n      }\r\n    } else {\r\n\r\n      this.detectUnvalidFormErrors();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  private createFileName() {\r\n    var d = new Date(),\r\n      n = d.getTime(),\r\n      newFileName = n + \".jpg\";\r\n    return newFileName;\r\n  }\r\n\r\n  private copyFileToLocalDir(namePath, currentName, newFileName) {\r\n    this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, \"yutuy.jpg\").then(success => {\r\n      console.info('file copied successfully');\r\n      this.lastImage = newFileName;\r\n    }, error => {\r\n      this.presentToast('Error while storing file.');\r\n    });\r\n  }\r\n\r\n\r\n\r\n  private presentToast(text) {\r\n    let toast = this.toastCtrl.create({\r\n      message: text,\r\n      duration: 3000,\r\n      position: 'top'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  // Always get the accurate path to your apps folder\r\n  public pathForImage(img) {\r\n    if (img === null) {\r\n      return '';\r\n    } else {\r\n      return cordova.file.dataDirectory + img;\r\n    }\r\n  }\r\n\r\n\r\n  public async open_albums() {\r\n\r\n    let choosenImages = await this.plugin_service.open_albums();\r\n    if (choosenImages.length > 0) {\r\n      let imagesrequests = await choosenImages.map(file => {\r\n        return {\r\n          imgName: file.split('/').pop(),\r\n          is_uploading: false,\r\n          uploaded: false,\r\n          file\r\n        }\r\n      });\r\n\r\n      this.productItems = [...this.productItems, ...imagesrequests];\r\n\r\n      console.log('choosen images', choosenImages, 'products Items', this.productItems, 'current Index', this.current);\r\n\r\n      this.uploadImage();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  /* openPicker() {\r\n     let options: ImagePickerOptions = {\r\n       outputType: 0\r\n     };\r\n     this.imagePicker.getPictures(options).then((results) => {\r\n       // this.addProductForm.get('item_images').setValue([...this.addProductForm.get('item_images').value, ...results]);\r\n       // this.productItems=[...results,...this.productItems];\r\n       console.log(this.productItems);\r\n \r\n       for (let i = 0; i < results.length; i++) {\r\n         let fileName = results[i].split('/').pop();\r\n         let filePath = results[i].substr(0, results[i].lastIndexOf('/')+1);\r\n         console.log('file',0,fileName,filePath);\r\n         this.productItems.unshift({\r\n           imgName: results[i].split('/').pop(),\r\n           is_uploading: false,\r\n           file: results[i]\r\n         });\r\n         this.filePath.resolveNativePath(results[i])\r\n         .then(filePath => {\r\n           console.log('resolved Path', filePath);\r\n           let correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);\r\n           let currentName = results[i].substring(results[i].lastIndexOf('/') + 1, results[i].lastIndexOf('?'));\r\n           this.copyFileToLocalDir(correctPath, currentName, currentName);\r\n         });\r\n         this.copyFileToLocalDir(filePath,fileName,fileName);\r\n         this.uploadImage(results[i]);\r\n \r\n           console.log('Image URI: ' + results[i]);\r\n         }\r\n         console.log('After loop product items',this.productItems);\r\n       }, (err) => {\r\n     console.warn(err);\r\n \r\n   })\r\n }*/\r\n\r\n  uploadImage(data?: any) {\r\n\r\n\r\n    let file = this.productItems[this.current+1].file;\r\n\r\n    console.log('file path to upload', file, 'current Index', this.current);\r\n\r\n    let uploadFolder = 'templates/default/uploads';\r\n\r\n    let uploadOptions: FileUploadOptions = {\r\n      fileKey: 'file',\r\n      fileName: file.split('/').pop(),\r\n      chunkedMode: false,\r\n      mimeType: 'image/' + file.substr(file.lastIndexOf('.') + 1),\r\n      headers: {\r\n        'Content-Type': undefined\r\n      },\r\n      params: {}\r\n\r\n    };\r\n\r\n    let serverFile = this.API_URL + \"uploadImage.php?uploadFolder=\" + uploadFolder + '&type=items&userId=' + this.userLocal.id;\r\n\r\n    this.productItems.find(p => p.file == file).is_uploading = true;\r\n\r\n    this.fto.onProgress(this.progress_event)\r\n\r\n    console.log('file uri', file, 'server file & path', serverFile);\r\n\r\n    this.fto.upload(\r\n      encodeURI(file),\r\n      encodeURI(serverFile),\r\n      uploadOptions,\r\n      false)\r\n      .then((res) => {\r\n        this.loadImage = true;\r\n        this.showToast('جارى رفع الصورة');\r\n        console.log('uploaded', res);\r\n      }, err => {\r\n        this.uploadErr = JSON.stringify(err);\r\n        //this.showToast('uploAD ERROR' + JSON.stringify(err));\r\n        console.log(err);\r\n        if (err.body) {\r\n          //this.showToast('image name ' + err.body);\r\n          console.log('%c%s', 'font-size:20px', 'Body message from the server', err.body);\r\n          console.log(JSON.parse(err.body), JSON.parse(err.body).name);\r\n\r\n\r\n          //this.showToast(err.json().errorInfo());\r\n          //this.showToast(JSON.parse(err.body).success)\r\n          if (JSON.parse(err.body).name) {\r\n\r\n            let currentImage = this.productItems.find(p => p.file == file);\r\n\r\n            this.itemsNames.push(JSON.parse(err.body).name);\r\n            console.log(this.itemsNames);\r\n            \r\n            currentImage.imgName = JSON.parse(err.body).name;\r\n            \r\n            currentImage.is_uploading = false;\r\n\r\n            currentImage.uploaded = true;\r\n\r\n            console.log('product Items after Uploading', this.productItems);\r\n\r\n            if (this.current + 1 < this.productItems.length) {\r\n              // Yes, we have. Up the current index\r\n              this.current++;\r\n              // reset the progress\r\n              this.progress = 0;\r\n              // and start the upload\r\n              this.uploadImage();\r\n\r\n              console.log('index after uploading ', this.current);\r\n            }\r\n          } else {\r\n            this.showToast(JSON.parse(err.body).errorInfo)\r\n          }\r\n        }\r\n      });\r\n\r\n  }\r\n\r\n  private async opem_camera() {\r\n\r\n    let cameraImg = await this.plugin_service.open_camera();\r\n\r\n    \r\n    this.productItems.push({\r\n      imgName: cameraImg.split('/').pop(),\r\n      is_uploading: false,\r\n      uploaded: false,\r\n      file: cameraImg\r\n    });\r\n    \r\n    console.log('product Items before uploading', this.productItems);\r\n    this.uploadImage();\r\n  }\r\n\r\n  deleteImage(img) {\r\n    let imgData = {\r\n      \"image\": img,\r\n      'item_id':this.InitData.id\r\n    };\r\n    console.log('delete image', imgData)\r\n    \r\n    this.productProvider\r\n      .deleteItem(imgData)\r\n      .subscribe(({ status })=> {\r\n        console.log('delete status', status);\r\n        if (status == 'success') {\r\n          let index = this.productItems.findIndex(x => x.imgName == img);\r\n\r\n          // split the image from products images\r\n\r\n          this.productItems.splice(index, 1);\r\n\r\n          console.log('product images after deleting an image', this.productItems)\r\n        }\r\n\r\n      })\r\n  }\r\n\r\n  openCamera() {\r\n\r\n    const cameraOptions: CameraOptions = {\r\n      quality: 70,\r\n      destinationType: this.camera.DestinationType.FILE_URI,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      allowEdit: true,\r\n      encodingType: this.camera.EncodingType ? this.camera.EncodingType.JPEG : 0,\r\n      sourceType: this.camera.PictureSourceType.CAMERA\r\n    };\r\n\r\n\r\n    // returned File URI => file:///storage/emulated/0/Android/data/co.itplus.rf/cache/.Pic.jpg?1498042093580\r\n\r\n    /* response\r\n    {\"bytesSent\":176215,\"responseCode\":200,\"response\":\"/home/httpprim/rfapp.net<br>/api/uploadImage.\r\n      php<pre>Array\\n(\\n\r\n      [0] => \\n [1] => api\\n [2] => uploadImage.php\\n)\\n/home/httpprim/rfapp.net<br>/api\",\"objectId\":\"\"} */\r\n\r\n    this.camera\r\n      .getPicture(cameraOptions)\r\n      .then(imageData => {\r\n\r\n        /* If data\r\n\r\n\r\n        console.log(compressed);\r\n        */\r\n        console.log('line 171 on promise resolve function', imageData);\r\n        this.productItems.push({\r\n          imgName: imageData.split('/').pop(),\r\n          is_uploading: false,\r\n          uploaded: false,\r\n          file: imageData\r\n        });\r\n        // Special handling for Android library\r\n        /*if (this.platform.is('android') || type == 'PHOTOLIBRARY') {\r\n          this.filePath.resolveNativePath(imageData)\r\n            .then(filePath => {\r\n              console.log('file path from resolve native path', filePath);\r\n              let correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);\r\n              let currentName = imageData.substring(imageData.lastIndexOf('/') + 1, imageData.lastIndexOf('?'));\r\n              console.log('correctPath', correctPath, 'currentName', currentName);\r\n              this.copyFileToLocalDir(correctPath, currentName, this.createFileName());\r\n            });\r\n        } else {\r\n          console.log('line 197 image file path', imageData);\r\n          let currentName = imageData.substr(imageData.lastIndexOf('/') + 1);\r\n          let correctPath = imageData.substr(0, imageData.lastIndexOf('/') + 1);\r\n          console.log('correctPath', correctPath, 'currentName', currentName);\r\n          this.copyFileToLocalDir(correctPath, currentName, this.createFileName());\r\n        }*/\r\n\r\n\r\n      })\r\n  }\r\n\r\n  detectUnvalidFormErrors(form: FormGroup = this.addProductForm, formKeys: string[] = Object.keys(form.value)) {\r\n\r\n\r\n    formKeys.every((value) => {\r\n\r\n      if (form.get(value).getError('required')) {\r\n\r\n        this.showToast(`يرجى ادخال ${ArProductForm[value]}`);\r\n\r\n        return false;\r\n\r\n      } else if (form.get(value).getError('minlength')) {\r\n\r\n        this.showToast(`${ArProductForm[value]} يجب ان يكون ${form.get(value).getError('minlength').requiredLength} حروف على الاقل`);\r\n\r\n        return false;\r\n      } else if (form.get(value).getError('pattern')) {\r\n        this.showToast(`يرجى ادخال قيمة صحيحة لـ ${ArProductForm[value]}`);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  showToast(msg: string): void {\r\n    const toast = this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 3000,\r\n      showCloseButton: true\r\n    });\r\n\r\n    toast.present();\r\n  }\r\n\r\n  imagePath(imgName) {\r\n    return this.UPLOAD_PATH+ 'items/' + imgName\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add/addproduct/addproduct.ts"],"sourceRoot":""}