{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"32.js","sourcesContent":["import { NgModule } from '@angular/core';\r\n\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { HomePage } from './home';\r\n\r\n//import { HsaloaderComponentModule } from '../../components/hsa-loader/hsa-loader.module';\r\n//import {wordColorDirective} from \"../../app/service/wordcolor.directive\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        HomePage\r\n    ],\r\n    exports: [\r\n        HomePage\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(HomePage)\r\n    ]\r\n\r\n})\r\n\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { ItemProvider } from './../../providers/item';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\nimport { ISlider } from './../../app/service/interfaces';\r\nimport { PushProvider } from './../../providers/push';\r\nimport { Component,Inject } from '@angular/core';\r\nimport {IlocalUser} from \"../../app/service/InewUserData\";\r\nimport {\r\n  NavController,\r\n  ToastController,\r\n  IonicPage,\r\n  Config,\r\n  ModalController,\r\n  Platform\r\n} from 'ionic-angular';\r\nimport {\r\n  Push,\r\n  PushObject,\r\n  PushOptions\r\n} from '@ionic-native/push';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  Sliders:ISlider[];\r\n  userLocalData: IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  SlidersErr: boolean = false;\r\n  constructor(\r\n    @Inject('UPLOAD_PATH') private UPLOAD_PATH,\r\n    public navCtrl: NavController,\r\n    public push: Push,\r\n    public modalCrtl: ModalController,\r\n    public platform: Platform,\r\n    public pushProvider: PushProvider,\r\n    public iab: InAppBrowser,\r\n    public itemProvider: ItemProvider\r\n  ) {\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n    let userId: number = 0;\r\n\r\n    if (this.userLocalData && this.userLocalData.id) \r\n      userId = this.userLocalData.id;\r\n    \r\n    this.pushProvider\r\n      .getHeaderSlider(userId)\r\n      .subscribe(({ data, status }) => {\r\n        if (status === 'success') {\r\n          this.Sliders = data;\r\n        } else {\r\n          this.SlidersErr = true;\r\n          this.Sliders = null\r\n        }\r\n      }, err => {\r\n        console.warn(err);\r\n        this.SlidersErr = true;\r\n      });\r\n\r\n\r\n\r\n    let pushOptios: PushOptions = {\r\n      android: {\r\n        senderID: '146464528118'\r\n      },\r\n      ios: {\r\n        alert: 'true',\r\n        badge: true,\r\n        sound: 'false'\r\n      },\r\n      windows: {}\r\n    };\r\n\r\n    let push: PushObject = this.push.init(pushOptios);\r\n\r\n    push.on('notification').subscribe(d => {\r\n      console.log('recieve a notification');\r\n\r\n      console.log(d);\r\n    });\r\n\r\n    push.on('registration').subscribe((registration: any) => {\r\n\r\n      \r\n      let deviceData = {\r\n         regId : registration.registrationId,\r\n         platform:this.platform.is('ios') ? 'ios' : (this.platform.is('windows')?'windows':'android')\r\n      }\r\n\r\n      \r\n      console.log('Device registered', registration, registration.registrationId, this.platform.is('android') ? 'android' : 'ios');\r\n\r\n\r\n      this.pushProvider.sendDeviceToken(deviceData)\r\n        .subscribe(res=> {\r\n          console.log(res);\r\n        })\r\n      \r\n    });\r\n\r\n    push.on('error').subscribe(error => console.error('Error with Push plugin', error));\r\n\r\n    \r\n\r\n  }\r\n\r\n\r\n  public navigateTo(page):void {\r\n    this.navCtrl.push(page);\r\n  }\r\n\r\n  private navToAdv(slide:ISlider): void {\r\n    \r\n    if (slide.type === 'item') {\r\n      this.modalCrtl.create('ProductPage', {pageData: slide.item_id, isModal:true}).present();\r\n    } else if (slide.type === 'link') {\r\n      this.iab.create(slide.url_link).show();\r\n    } else {\r\n      console.log('this slide has no action right now');\r\n    }\r\n   \r\n  }\r\n\r\n\r\n  private imagePath(img: string): string {\r\n    return this.UPLOAD_PATH + 'headerslider/' + img\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n    /* Get the current location if user activates the location */\r\n    /*   this.geolocation.getCurrentPosition()\r\n      .then((res)=>{\r\n      let coords = res.coords.latitude+','+res.coords.longitude;\r\n      console.log(`User Location: ${coords}`);\r\n        localStorage.setItem('currentLocation', coords);\r\n    }).catch(err=> {\r\n      console.warn(err);\r\n      console.log('geolocation didn\\'t get current location');\r\n    });\r\n\r\n    */\r\n    /* works only on devices\r\n       if (cordova&& this.platform.is('android')) {\r\n         console.log('Storage Directory', cordova.file.dataDirectory)\r\n       } else {\r\n         console.log('Storage Directory', cordova.file.documentsDirectory)\r\n       }*/\r\n\r\n\r\n       // TODO: check connection\r\n    /*\r\n     this.network.onConnect().subscribe(data=>{\r\n       console.log(data, 'You are connected to the internet');\r\n       //TODO: add a toast to show connection message\r\n       this.showToast('متصل بالانترنت')\r\n     });\r\n     */\r\n\r\n    /*\r\n         this.network.onDisconnect().subscribe(data => {\r\n          console.log(data, 'You are disconnected');\r\n          //TODO: add a toast to show connection message\r\n          this.showToast(' التطبيق يتطلب وجود اتصال للتصفح')\r\n        });\r\n\r\n    */\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}