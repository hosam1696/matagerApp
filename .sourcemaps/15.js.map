{"version":3,"sources":["../../src/pages/reservedshelfs/reservedshelfs.module.ts","../../src/pages/reservedshelfs/reservedshelfs.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ReservedshelfsPage } from './reservedshelfs';\r\nimport { HsaloaderComponentModule } from '../../components/hsa-loader/hsa-loader.module';\r\nimport {ArabicDatePipeModule} from \"../../app/service/arabic-date/arabic-date.module\";\r\n@NgModule({\r\n  declarations: [\r\n    ReservedshelfsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ReservedshelfsPage),\r\n    HsaloaderComponentModule,\r\n    ArabicDatePipeModule\r\n  ],\r\n  exports: [\r\n    ReservedshelfsPage\r\n  ]\r\n})\r\nexport class ReservedshelfsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservedshelfs/reservedshelfs.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { ShelfsProvider } from '../../providers/shelfs';\r\nimport { IlocalUser, IShelfRequest } from '../../app/service/interfaces';\r\n/**\r\n * Generated class for the ReservedshelfsPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-reservedshelfs',\r\n  templateUrl: 'reservedshelfs.html',\r\n})\r\nexport class ReservedshelfsPage {\r\n  userLocal: IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  showLoader: boolean = true;\r\n  AllRequests: IShelfRequest[];\r\n  moreData: boolean = true;\r\n  initLimit: number = 10;\r\n  initStart: number = 0;\r\n  noRequests: boolean = false;\r\n  netErr: boolean = false;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    public shelfsProvider: ShelfsProvider\r\n  ) {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.userLocal = JSON.parse(localStorage.getItem('userLocalData'));\r\n  }\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ReservedshelfsPage');\r\n\r\n    this.getAllRequests(this.userLocal.id);\r\n  }\r\n\r\n  refresh(event) {\r\n    this.getAllRequests(this.userLocal.id, event);\r\n  }\r\n  getAllRequests(id, event?:any) {\r\n    this.shelfsProvider.getAllRequests(id)\r\n      .subscribe(({ status, data }) => {\r\n\r\n          if (status == 'success') {\r\n\r\n            this.AllRequests = data.reverse();\r\n          } else {\r\n            this.showLoader = false;\r\n            this.noRequests = true;\r\n            console.warn('no data');\r\n          }\r\n\r\n          console.log(status, data);\r\n        },\r\n        err => {\r\n          console.warn(err);\r\n          this.netErr = true;\r\n          this.showLoader = false;\r\n          event&&event.complete();\r\n        },\r\n        () => {\r\n          this.showLoader = false;\r\n          console.log('completed');\r\n\r\n          event&&event.complete();\r\n        }\r\n      )\r\n  }\r\n\r\n  navigateToPage(page, user_id) {\r\n    let id = (this.userLocal && this.userLocal.id) ? this.userLocal.id : 0;\r\n    this.navCtrl.push(page, { userData: [user_id, id] }) // [id of the user i will enter his profile page, id of the user who is on the app]\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservedshelfs/reservedshelfs.ts"],"sourceRoot":""}