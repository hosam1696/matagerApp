{"version":3,"sources":["../../src/pages/barcode/barcode.module.ts","../../src/pages/barcode/barcode.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import { HsaloaderComponentModule } from './../../components/hsa-loader/hsa-loader.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { BarcodePage } from './barcode';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BarcodePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(BarcodePage),\r\n    HsaloaderComponentModule\r\n  ],\r\n  exports: [\r\n    BarcodePage\r\n  ]\r\n})\r\nexport class BarcodePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/barcode/barcode.module.ts","import { ViewChild } from '@angular/core';\r\nimport { IlocalUser, IscannedProduct } from './../../app/service/interfaces';\r\nimport { SalesProvider } from './../../providers/sales';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\r\nimport { BarcodeScanner, BarcodeScannerOptions } from '@ionic-native/barcode-scanner';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-barcode',\r\n  templateUrl: 'barcode.html',\r\n})\r\nexport class BarcodePage {\r\n  @ViewChild('enetredcode') enteredCode: any;\r\n  userLocal: IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  BarcodeResult: any[] = [];\r\n  showData: boolean = false;\r\n  itemBarcode: number | string;\r\n  AllScanedProducts: IscannedProduct[] = [];\r\n  billTotal: any = 0;\r\n  showLoader: boolean = false;\r\n  sendshowLoader: boolean = false;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private barcodeScanner: BarcodeScanner,\r\n    public salesProvider: SalesProvider,\r\n    public toastCtrl: ToastController\r\n\r\n  ) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    if (!this.userLocal)\r\n      this.userLocal = JSON.parse(localStorage.getItem('userLocalData'));\r\n\r\n  }\r\n\r\n  private scanBarcode(): void {\r\n    let scanOptions: BarcodeScannerOptions = {\r\n      orientation: 'portrait',\r\n      disableSuccessBeep: true,\r\n      showFlipCameraButton: true, resultDisplayDuration: 100\r\n    };\r\n\r\n    let scanBarcode = this.barcodeScanner.scan(scanOptions);\r\n\r\n    console.log(scanBarcode);\r\n\r\n    scanBarcode.then((barcodeData) => {\r\n\r\n\r\n      this.itemBarcode = barcodeData.text;\r\n\r\n      if (this.AllScanedProducts.length > 0) {\r\n        let foundedIndex = this.AllScanedProducts.findIndex((product: IscannedProduct) => { return product.item_code == this.itemBarcode });\r\n\r\n        console.log('Index of repeated Product', foundedIndex);\r\n\r\n        if (foundedIndex == -1) {\r\n          this.showProductByCode(this.itemBarcode);\r\n        } else {\r\n          this.AllScanedProducts[foundedIndex].item_quantity = this.AllScanedProducts[foundedIndex].item_quantity + 1;\r\n          this.billTotal = this.countTotal;\r\n        }\r\n\r\n      } else {\r\n        this.showProductByCode(this.itemBarcode);\r\n      }\r\n\r\n      this.BarcodeResult.push(barcodeData);\r\n\r\n\r\n    });\r\n\r\n    scanBarcode.catch(err => {\r\n      console.log(err)\r\n    });\r\n  }\r\n\r\n  private keepItNumber(value) {\r\n\r\n\r\n\r\n    console.log(value);\r\n\r\n    value = value.split('');\r\n    let enteredKey = value[value.length - 1];\r\n    console.log(value, enteredKey);\r\n    /*\r\n    let targetVal:string = event.target.value;\r\n    const val = parseInt(event.key);*/\r\n    if (isNaN(enteredKey) && enteredKey != ' ') {\r\n      console.warn('rr');\r\n      value.pop();\r\n      this.enteredCode.nativeElement.value = value.join('');\r\n      //event.target.value = event.target.value.substr(0, targetVal.length - 1)\r\n    } else {\r\n      console.log('number', enteredKey, typeof enteredKey, value);\r\n    }\r\n\r\n  }\r\n\r\n  private scanEnteredBarcode(value): void {\r\n    value = parseInt(value);\r\n    console.log(value, typeof value);\r\n    /*//TODO: check for repeated code before request the server for data\r\n    if (this.AllScanedProducts.length > 0) {\r\n      //let foundedBefore = this.AllScanedProducts.find((product:IscannedProduct)=>{return product.item_code == value});\r\n      let foundedIndex = this.AllScanedProducts.findIndex((product:IscannedProduct)=>{return product.item_code == value});\r\n\r\n      console.log('Index of repeated Product', foundedIndex);\r\n\r\n      if(foundedIndex == -1){\r\n        this.showProductByCode(value);\r\n      } else {\r\n        this.AllScanedProducts[foundedIndex].item_quantity = this.AllScanedProducts[foundedIndex].item_quantity +1;\r\n        this.billTotal = this.countTotal;\r\n      }\r\n\r\n    } else {\r\n      this.showProductByCode(value);\r\n    }\r\n    //console.log(barcodeData.text);*/\r\n\r\n      if(value)\r\n        this.showProductByCode(value);\r\n  }\r\n\r\n  private showProductByCode(itemCode: number | string): void {\r\n    this.showLoader = true;\r\n    this.salesProvider.getItemByCode(itemCode)\r\n      .subscribe(({ status, data }) => {\r\n        if (status === 'success') {\r\n          let foundedIndex = this.AllScanedProducts.findIndex((product: IscannedProduct) => { return product.id == data.id });\r\n\r\n          console.log('Index of repeated Product', foundedIndex);\r\n          // let founded:IscannedProduct = this.AllScanedProducts.find(x=>x.item_id == data.id);\r\n          //console.log('finded match', founded);\r\n          //let isRepeated = (founded)? (founded.item_id == data.id): false;\r\n          //console.log(data, isRepeated);\r\n          if (foundedIndex == -1) {\r\n            [data.item_id, data.item_quantity, data.item_code, this.showData] = [data.id, 1, itemCode, true];\r\n            console.log(status, data);\r\n            this.enteredCode.nativeElement.value = '';\r\n            this.AllScanedProducts.push(data);\r\n          } else {\r\n            this.AllScanedProducts[foundedIndex].item_quantity = this.AllScanedProducts[foundedIndex].item_quantity + 1;\r\n            this.enteredCode.nativeElement.value = '';\r\n\r\n          }\r\n\r\n\r\n          console.log('All Products', this.AllScanedProducts);\r\n          this.billTotal = this.countTotal;\r\n\r\n        } else {\r\n          this.showLoader = false;\r\n          this.showToast('لم يتم التعرف على الكود يرجى المحاولة مرة اخرى')\r\n        }\r\n      },\r\n\r\n      err => {\r\n        this.showLoader = false;\r\n        this.showToast('التطبيق يتطلب اتصال بالانترنت');\r\n        console.warn(err);\r\n      },\r\n      () => {\r\n        this.showLoader = false;\r\n      }\r\n      )\r\n  }\r\n\r\n  private increaseQuantity(product: IscannedProduct): void {\r\n    console.log(product);\r\n    let editedQuantity = Math.max(1, Math.min(product.item_quantity + 1, 100));\r\n    console.log(editedQuantity);\r\n    product.item_quantity = editedQuantity;\r\n    this.billTotal = this.countTotal;\r\n    //this.render.setAttribute(this.ele.nativeElement.id == 1, 'value', '')\r\n  }\r\n\r\n  public showToast(msg): void {\r\n    let toast = this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 3000,\r\n      position: 'top'\r\n    });\r\n\r\n    toast.present();\r\n  }\r\n\r\n  private decreaseQuantity(product: IscannedProduct): void {\r\n\r\n    let editedQuantity = Math.max(1, Math.min(product.item_quantity - 1, 100));\r\n    console.log(editedQuantity);\r\n    product.item_quantity = editedQuantity;\r\n    this.billTotal = this.countTotal;\r\n  }\r\n\r\n  private changeValue(event, product: IscannedProduct): void {\r\n    let targetValue = event.target.value;\r\n    console.log(event, targetValue);\r\n    console.log(product.item_quantity);\r\n    product.item_quantity = targetValue;\r\n    this.billTotal = this.countTotal;\r\n    console.log(product.item_quantity);\r\n  }\r\n\r\n  swipeEvent(event) {\r\n    console.log(event);\r\n  }\r\n\r\n  private get countTotal(): number {\r\n    return this.AllScanedProducts.reduce((x: number, d: IscannedProduct) => { return x + (parseInt(d.item_price) * parseInt(d.item_quantity)) }, 0)\r\n  }\r\n\r\n  private addBill() {\r\n\r\n    if (this.userLocal && this.userLocal) {\r\n      this.sendshowLoader = true;\r\n\r\n      let billData = {\r\n        user_id: this.userLocal.id,\r\n        bill_items: this.AllScanedProducts,\r\n        total_cost: this.billTotal\r\n      };\r\n\r\n      console.log(this.AllScanedProducts);\r\n\r\n      this.salesProvider.addSalesBill(billData)\r\n        .subscribe(({ status, data, errors }) => {\r\n          if (status == 'success') {\r\n            this.showToast('تم اضافة الفاتورة بنجاح');\r\n            this.showData = false;\r\n            this.sendshowLoader = false;\r\n            this.AllScanedProducts = [];\r\n          } else {\r\n            this.showToast(errors);\r\n          }\r\n        }, err => {\r\n          console.warn(err);\r\n          this.showToast('التطبيق يتطلب اتصال بالانترنت')\r\n        }, () => {\r\n          this.sendshowLoader = false;\r\n        })\r\n\r\n    }\r\n    else {\r\n      console.warn('no user');\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/barcode/barcode.ts"],"sourceRoot":""}