{"version":3,"sources":["../../src/pages/deliverproducts/deliverproducts.module.ts","../../src/pages/deliverproducts/deliverproducts.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { DeliverproductsPage } from './deliverproducts';\r\nimport { HsaloaderComponentModule } from '../../components/hsa-loader/hsa-loader.module';\r\n@NgModule({\r\n  declarations: [\r\n    DeliverproductsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DeliverproductsPage),\r\n    HsaloaderComponentModule\r\n  ],\r\n  exports: [\r\n    DeliverproductsPage\r\n  ]\r\n})\r\nexport class DeliverproductsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/deliverproducts/deliverproducts.module.ts","import { DeliveryRequestInfo } from '../deliveryrequestmodal';\r\n\r\nimport { Component} from '@angular/core';\r\nimport { NavController, NavParams,ModalController, IonicPage, ToastController } from 'ionic-angular';\r\nimport {  IlocalUser } from '../../app/service/interfaces';\r\nimport { DeliveryProvider } from '../../providers/delivery';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-deliverproducts',\r\n  templateUrl: 'deliverproducts.html',\r\n})\r\nexport class DeliverproductsPage {\r\n  AllRequests: any[];\r\n  userLocal: IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  showLoader: boolean = true;\r\n  noRequests: boolean = false;\r\n  netErr: boolean = false;\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private deliveryProvider: DeliveryProvider,\r\n    public toastCtrl: ToastController,\r\n    public modal: ModalController\r\n  ) {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.userLocal = JSON.parse(localStorage.getItem('userLocalData'));\r\n  }\r\n  ionViewDidLoad() {\r\n    if (!this.userLocal) {\r\n      this.userLocal = JSON.parse(localStorage.getItem('userLocalData'));\r\n\r\n    } else {\r\n      this.getDeliveryRequests(this.userLocal.id);\r\n    }\r\n\r\n\r\n\r\n  }\r\n  showInfo(request, user_id) {\r\n    let modal = this.modal.create(DeliveryRequestInfo, { pageData: request, user_id });\r\n\r\n    modal.present();\r\n\r\n  }\r\n  refresh(event) {\r\n    console.log('refresh page', event);\r\n    this.getDeliveryRequests(this.userLocal.id, event);\r\n\r\n  }\r\n  getDeliveryRequests(user_id, event?:any) {\r\n\r\n\r\n    this.deliveryProvider.getDeliveryRequests({ user_id })\r\n      .subscribe(({ status, data, errors}) => {\r\n        if (status == 'success') {\r\n          this.AllRequests = data.reverse()\r\n        } else {\r\n          this.noRequests = true;\r\n          event && event.complete();\r\n          console.warn(errors);\r\n        }\r\n      },\r\n      err => {\r\n        console.warn(err);\r\n\r\n        [this.noRequests, this.showLoader] = [true, false];\r\n        event && event.complete();\r\n      },\r\n      () => {\r\n        event && event.complete();\r\n        this.showLoader = false;\r\n      })\r\n  }\r\n\r\n  limitString(str: string) {\r\n    return (str.length > 55) ? str.slice(0, 50) + '.....' : str;\r\n  }\r\n\r\n  navigateToPage(page) {\r\n    this.navCtrl.push(page);\r\n  }\r\n\r\n  showToast(msg) {\r\n    let toast = this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 3000,\r\n      position: 'top'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/deliverproducts/deliverproducts.ts"],"sourceRoot":""}