{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"33.js","sourcesContent":["import { NgModule } from '@angular/core';\r\n\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { HomePage } from './home';\r\n\r\n//import { HsaloaderComponentModule } from '../../components/hsa-loader/hsa-loader.module';\r\n//import {wordColorDirective} from \"../../app/service/wordcolor.directive\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        HomePage\r\n    ],\r\n    exports: [\r\n        HomePage\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(HomePage)\r\n    ]\r\n\r\n})\r\n\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { ProductModal } from './../productmodal';\r\nimport { ItemProvider } from './../../providers/item';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\nimport { ISlider } from './../../app/service/interfaces';\r\nimport { PushProvider } from './../../providers/push';\r\n\r\nimport { Component,Inject,ViewChild} from '@angular/core';\r\nimport {\r\n  NavController,\r\n  ToastController,\r\n  IonicPage,\r\n  Config,\r\n  ModalController,\r\n  Platform,\r\n  Slides\r\n} from 'ionic-angular';\r\nimport {\r\n  Push,\r\n  PushObject,\r\n  PushOptions\r\n} from '@ionic-native/push';\r\nimport {\r\n  Geolocation\r\n} from '@ionic-native/geolocation';\r\nimport {\r\n  Network\r\n} from '@ionic-native/network';\r\nimport {\r\n  IlocalUser\r\n} from \"../../app/service/InewUserData\";\r\nimport {\r\n  UserProvider\r\n} from \"../../providers/user\";\r\n//import {cordova} from \"../profile/profile\";\r\nimport { FCM } from '@ionic-native/fcm';\r\n\r\ndeclare let cordova: any;\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  Sliders:ISlider[];\r\n  userLocalData: IlocalUser = JSON.parse(localStorage.getItem('userLocalData'));\r\n  SlidersErr: boolean = false;\r\n   @ViewChild(Slides) private _slides: Slides;\r\n\r\n \r\n  constructor(\r\n    @Inject('UPLOAD_PATH') private UPLOAD_PATH,\r\n    public navCtrl: NavController,\r\n    public geolocation: Geolocation,\r\n    public network: Network,\r\n    public toastCont: ToastController,\r\n    public push: Push,\r\n    public config: Config,\r\n    public modalCrtl: ModalController,\r\n    public platform: Platform,\r\n    public pushProvider: PushProvider,\r\n    public iab: InAppBrowser,\r\n    public itemProvider: ItemProvider,\r\n    public fcm: FCM,\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    //***************************** */\r\n    this.fcm.onNotification().subscribe(pageData=>{\r\n      //alert(JSON.stringify(pageData));\r\n      if (pageData.type == 'deliveryRequest') {\r\n          this.navCtrl.push('NotificationDeleveryReqPage', {pageData})\r\n      } else if (pageData.type == 'addComment') {\r\n          this.navCtrl.push('CommentNotificationPage', {pageData})\r\n      } else if (pageData.type == 'like') {\r\n          this.navCtrl.push('CommentNotificationPage', {pageData})\r\n      } else if (pageData.type == 'salesBill') {\r\n          this.navCtrl.push('SalesnotificationPage', {pageData})\r\n      } else if (pageData.type == 'duesRequest') {\r\n          this.navCtrl.push('NotificationDuePage', {pageData})\r\n      } else if (pageData.type == 'ownerDues') {\r\n          this.navCtrl.push('OwnerduerequestPage', {pageData})\r\n      } else {\r\n          this.navCtrl.push('ReserveShelfPage', {pageData})\r\n      }\r\n      // if(pageData.wasTapped){\r\n      //   alert(\"Received in background\");\r\n        \r\n      // } else {\r\n      //   alert(\"Received in foreground\");\r\n      // };\r\n  })\r\n  //*********************** */\r\n    //this.SlidersErr = false;\r\n    let userId: number = 0;\r\n    if (this.userLocalData && this.userLocalData.id) \r\n      userId = this.userLocalData.id;\r\n    \r\n    this.pushProvider\r\n      .getHeaderSlider(userId)\r\n      .subscribe(({ data, status}) => {\r\n        if (status === 'success') {\r\n          this.Sliders = data;\r\n          console.table(data);\r\n        } else {\r\n          this.SlidersErr = true;\r\n          this.Sliders = null\r\n        }\r\n      }, err => {\r\n        console.warn(err);\r\n        this.SlidersErr = true;\r\n      })\r\n\r\n    console.log('Config Object', this.config.get('caches'), this.config.get('iconMode'));\r\n    \r\n\r\n\r\n    /* Get the current location if user activates the location */\r\n    /*   this.geolocation.getCurrentPosition()\r\n      .then((res)=>{\r\n      let coords = res.coords.latitude+','+res.coords.longitude;\r\n      console.log(`User Location: ${coords}`);\r\n        localStorage.setItem('currentLocation', coords);\r\n    }).catch(err=> {\r\n      console.warn(err);\r\n      console.log('geolocation didn\\'t get current location');\r\n    });\r\n\r\n*/\r\n    /* works only on devices\r\n       if (cordova&& this.platform.is('android')) {\r\n         console.log('Storage Directory', cordova.file.dataDirectory)\r\n       } else {\r\n         console.log('Storage Directory', cordova.file.documentsDirectory)\r\n       }*/\r\n    /* let pushOptios: PushOptions = {\r\n      android: {\r\n        senderID: '146464528118'\r\n      },\r\n      ios: {\r\n        alert: 'true',\r\n        badge: true,\r\n        sound: 'false'\r\n      },\r\n      windows: {}\r\n    };\r\n\r\n    let push: PushObject = this.push.init(pushOptios);\r\n\r\n    push.on('notification').subscribe((notification: any) => {\r\n      //alert(notification)\r\n    });\r\n\r\n    push.on('registration').subscribe((registration: any) => {\r\n\r\n      \r\n      let deviceData = {\r\n         regId : registration.registrationId,\r\n         platform:this.platform.is('ios') ? 'ios' : (this.platform.is('windows')?'windows':'android')\r\n      }\r\n\r\n      \r\n      console.log('Device registered', registration, registration.registrationId, this.platform.is('android') ? 'android' : 'ios');\r\n\r\n\r\n      this.pushProvider.sendDeviceToken(deviceData)\r\n        .subscribe(res=> {\r\n          console.log(res);\r\n        })\r\n      \r\n    });\r\n\r\n    push.on('error').subscribe(error => console.error('Error with Push plugin', error)); */\r\n\r\n    // TODO: check connection\r\n    /*\r\n     this.network.onConnect().subscribe(data=>{\r\n       console.log(data, 'You are connected to the internet');\r\n       //TODO: add a toast to show connection message\r\n       this.showToast('متصل بالانترنت')\r\n     });\r\n     */\r\n\r\n    /*\r\n         this.network.onDisconnect().subscribe(data => {\r\n          console.log(data, 'You are disconnected');\r\n          //TODO: add a toast to show connection message\r\n          this.showToast(' التطبيق يتطلب وجود اتصال للتصفح')\r\n        });\r\n\r\n    */\r\n\r\n  }\r\n handleClick(){\r\n        console.table( this.Sliders[this._slides._slides[this._slides.clickedIndex].getAttribute('data-swiper-slide-index')]);\r\n var slide=this.Sliders[this._slides._slides[this._slides.clickedIndex].getAttribute('data-swiper-slide-index')];\r\n         if (slide.type === 'item') {\r\n      this.modalCrtl.create('ProductPage', {pageData: slide.item_id, isModal:true}).present();\r\n    } else if (slide.type === 'link') {\r\n      this.iab.create(slide.url_link,'_blank',{location:'no'});\r\n    } else {\r\n      console.log('slides have no action right now');\r\n    }\r\n  }\r\n  showToast(msg, dur = 3000) {\r\n    let toast = this.toastCont.create({\r\n      message: msg,\r\n      duration: dur,\r\n      position: 'bottom',\r\n      showCloseButton: true,\r\n      closeButtonText: 'x'\r\n    });\r\n\r\n    toast.onDidDismiss(() => {\r\n      //TODO: pop to the main page of the user\r\n      //console.log('moving to main page ..');\r\n\r\n    });\r\n\r\n    toast.present();\r\n  }\r\n\r\n  navigateTo(page,parent) {\r\n    this.navCtrl.push(page,{'places_id':parent});\r\n  }\r\n\r\n\r\n\r\n\r\n  imagePath(img: string): string {\r\n    return this.UPLOAD_PATH + 'headerslider/' + img\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}